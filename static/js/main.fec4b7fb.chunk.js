(this["webpackJsonpmy-react"]=this["webpackJsonpmy-react"]||[]).push([[0],{18:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a.n(n),o=a(8),c=a.n(o),r=(a(18),a(25)),s=a(7),u=a.n(s);var d=function(){const[e,t]=Object(n.useState)(""),[a,o]=Object(n.useState)(""),[c,s]=Object(n.useState)(""),[d,i]=Object(n.useState)(""),[p,m]=Object(n.useState)(null),[h,b]=Object(n.useState)(""),[f,g]=Object(n.useState)([]),[E,y]=Object(n.useState)("");return l.a.createElement("div",null,l.a.createElement("h1",null,"Lead Generator Tool"),l.a.createElement("h3",null,"Generate Places"),l.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t={latitude:e,longitude:a,radius:c},n=(await r.a.post("http://127.0.0.1:5000/api/generate_places",t)).data.generatedPlacesPath;i("http://127.0.0.1:5000/api/download_csv?filePath=".concat(n))}catch(n){console.error("Error processing data",n)}}},l.a.createElement("input",{type:"number",value:e,onChange:e=>t(e.target.value),placeholder:"Enter latitude"}),l.a.createElement("input",{type:"number",value:a,onChange:e=>o(e.target.value),placeholder:"Enter longitude"}),l.a.createElement("input",{type:"number",value:c,onChange:e=>s(e.target.value),placeholder:"Enter radius (meters)"}),l.a.createElement("button",{type:"submit"},"Submit")),d&&l.a.createElement("div",null,l.a.createElement("button",{onClick:()=>{const e=document.createElement("a");e.href=d,e.setAttribute("download","generated_places.csv"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}}," Download ")),l.a.createElement("h3",null,"Generate Contacts"),l.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),p?u.a.parse(p,{header:!1,complete:async e=>{const t=e.data.filter(e=>e[0]&&e[1]),a=[],n=[];for(let c=0;c<t.length;c++){const e=t[c][0],l=t[c][1];a.push(e),n.push(l)}const l=[a,n];console.log("Parsed data:",l);try{const e=(await r.a.post("http://127.0.0.1:5000/api/scrape_contacts",{data:l})).data.generatedContactsPath;b("http://127.0.0.1:5000/api/download_contacts_csv?filePath=".concat(e))}catch(o){console.error("Error uploading file:",o)}}}):alert("Select a file first")}},l.a.createElement("input",{type:"file",accept:".csv",onChange:async e=>{m(e.target.files[0])}}),l.a.createElement("button",{type:"submit"},"Upload")),h&&l.a.createElement("div",null,l.a.createElement("button",{onClick:()=>{const e=document.createElement("a");e.href=h,e.setAttribute("download","generated_contacts.csv"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}}," Download ")),l.a.createElement("h3",null,"Merge Files"),l.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),f.length<2)return void alert("Select 2 files first");const[t,a]=await Promise.all(f.map(e=>new Promise((t,a)=>{u.a.parse(e,{header:!1,complete:e=>t(e.data.filter(e=>e[0])),error:e=>a(e)})}))),n=[t,a];console.log("Parsed data:",n);const l=[];for(let s of n[1]){let e=!1;const t=[...s];for(let a of n[0]){const t=[...s];s[0]===a[0]&&(e=!0,t.push(a[1]),t.push(a[2]),l.push(t))}e||(t.push(""),t.push(""),l.push(t))}const o=u.a.unparse({fields:["Company Name","Type","Address","Phone","Website","Wifi","Contact","Link"],data:l});console.log("Merged CSV Content:",o);const c=new Blob([o],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(c);y(r)}},l.a.createElement("input",{type:"file",multiple:!0,accept:".csv",onChange:async e=>{g(Array.from(e.target.files))}}),l.a.createElement("button",{type:"submit"},"Upload")),E&&l.a.createElement("div",null,l.a.createElement("button",{onClick:()=>{const e=document.createElement("a");e.href=E,e.setAttribute("download","merged_file.csv"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}}," Download ")))};var i=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:o,getTTFB:c}=t;a(e),n(e),l(e),o(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d,null))),i()},9:function(e,t,a){e.exports=a(23)}},[[9,1,2]]]);
//# sourceMappingURL=main.fec4b7fb.chunk.js.map